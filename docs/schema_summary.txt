RIASSUNTO SCHEMA DATABASE - CarbonPilot
============================================================

Trovati 14 modelli:
   â€¢ Autoclave
   â€¢ Catalogo
   â€¢ CicloCura
   â€¢ NestingResult
   â€¢ ODL
   â€¢ ODLLog
   â€¢ Parte
   â€¢ Report
   â€¢ ScheduleEntry
   â€¢ StateLog
   â€¢ SystemLog
   â€¢ TempoFase
   â€¢ TempoProduzione
   â€¢ Tool

============================================================

ğŸ“„ Modello: Autoclave
   Tabella: autoclavi
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ anno_produzione: Integer
        ğŸ“ Anno di produzione dell'autoclave
      â€¢ codice: String(50) | UNIQUE | INDEX
        ğŸ“ Codice univoco dell'autoclave
      â€¢ created_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B6649EDE0>
      â€¢ larghezza_piano: Float
        ğŸ“ Larghezza utile del piano di carico
      â€¢ lunghezza: Float
        ğŸ“ Lunghezza interna in mm
      â€¢ max_load_kg: Float | DEFAULT=1000.0
        ğŸ“ Carico massimo supportato dall'autoclave in kg
      â€¢ nome: String(100) | UNIQUE | INDEX
        ğŸ“ Nome identificativo dell'autoclave
      â€¢ note: String
        ğŸ“ Note aggiuntive sull'autoclave
      â€¢ num_linee_vuoto: Integer
        ğŸ“ Numero di linee vuoto disponibili
      â€¢ pressione_max: Float
        ğŸ“ Pressione massima in bar
      â€¢ produttore: String(100)
        ğŸ“ Nome del produttore dell'autoclave
      â€¢ stato: String(12) | NOT NULL | DEFAULT=StatoAutoclaveEnum.DISPONIBILE
        ğŸ“ Stato attuale dell'autoclave
      â€¢ temperatura_max: Float
        ğŸ“ Temperatura massima in gradi Celsius
      â€¢ updated_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B6649F060>
      â€¢ use_secondary_plane: Boolean | NOT NULL | DEFAULT=False
        ğŸ“ Indica se l'autoclave puÃ² utilizzare un piano secondario per aumentare la capacitÃ 
   ğŸ”— Relazioni:
      â€¢ nesting_results: one-to-many -> NestingResult (bidirectional)

ğŸ“„ Modello: Catalogo
   Tabella: cataloghi
   ğŸ“‹ Campi:
      â€¢ part_number: String(50) | PK | INDEX | NOT NULL
        ğŸ“ Codice Part Number univoco
      â€¢ altezza: Float
        ğŸ“ Altezza del pezzo in mm
      â€¢ attivo: Boolean | NOT NULL | DEFAULT=True
        ğŸ“ Indica se il part number Ã¨ ancora attivo nel catalogo
      â€¢ categoria: String(100)
        ğŸ“ Categoria del prodotto
      â€¢ created_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B664784A0>
      â€¢ descrizione: String | NOT NULL
        ğŸ“ Descrizione dettagliata del part number
      â€¢ larghezza: Float
        ğŸ“ Larghezza del pezzo in mm
      â€¢ lunghezza: Float
        ğŸ“ Lunghezza del pezzo in mm
      â€¢ note: String
        ğŸ“ Note aggiuntive sul part number
      â€¢ sotto_categoria: String(100)
        ğŸ“ Sotto-categoria del prodotto
      â€¢ updated_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B66478680>
   ğŸ”— Relazioni:
      â€¢ parti: one-to-many -> Parte (bidirectional)

ğŸ“„ Modello: CicloCura
   Tabella: cicli_cura
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ attiva_stasi2: Boolean | NOT NULL | DEFAULT=False
        ğŸ“ Indica se Ã¨ presente la seconda stasi
      â€¢ created_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B66479A80>
      â€¢ descrizione: String
        ğŸ“ Descrizione dettagliata del ciclo di cura
      â€¢ durata_stasi1: Integer | NOT NULL
        ğŸ“ Durata della prima stasi in minuti
      â€¢ durata_stasi2: Integer
        ğŸ“ Durata della seconda stasi in minuti
      â€¢ nome: String(100) | UNIQUE | NOT NULL
        ğŸ“ Nome identificativo del ciclo di cura
      â€¢ pressione_stasi1: Float | NOT NULL
        ğŸ“ Pressione della prima stasi in bar
      â€¢ pressione_stasi2: Float
        ğŸ“ Pressione della seconda stasi in bar
      â€¢ temperatura_stasi1: Float | NOT NULL
        ğŸ“ Temperatura della prima stasi in gradi Celsius
      â€¢ temperatura_stasi2: Float
        ğŸ“ Temperatura della seconda stasi in gradi Celsius
      â€¢ updated_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B66479C60>
   ğŸ”— Relazioni:
      â€¢ parti: one-to-many -> Parte (bidirectional)

ğŸ“„ Modello: NestingResult
   Tabella: nesting_results
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ autoclave_id: Integer | INDEX | FK -> autoclavi.id
      â€¢ report_id: Integer | INDEX | FK -> reports.id
        ğŸ“ ID del report PDF generato per questo nesting
      â€¢ area_piano_1: Float | DEFAULT=0.0
        ğŸ“ Area utilizzata sul piano 1 in cmÂ²
      â€¢ area_piano_2: Float | DEFAULT=0.0
        ğŸ“ Area utilizzata sul piano 2 in cmÂ²
      â€¢ area_totale: Float | DEFAULT=0.0
      â€¢ area_utilizzata: Float | DEFAULT=0.0
      â€¢ confermato_da_ruolo: String(50)
        ğŸ“ Ruolo dell'utente che ha confermato il nesting
      â€¢ created_at: DateTime | DEFAULT=now()
      â€¢ motivi_esclusione: JSON | DEFAULT=<function list at 0x0000014B664FF600>
        ğŸ“ Lista dei motivi per cui gli ODL sono stati esclusi
      â€¢ note: String
        ğŸ“ Note aggiuntive sul nesting
      â€¢ odl_esclusi_ids: JSON | DEFAULT=<function list at 0x0000014B664FF560>
        ğŸ“ Lista degli ID degli ODL esclusi dal nesting
      â€¢ odl_ids: JSON | DEFAULT=<function list at 0x0000014B664FF4C0>
      â€¢ peso_totale_kg: Float | DEFAULT=0.0
        ğŸ“ Peso totale del carico in kg
      â€¢ posizioni_tool: JSON | DEFAULT=<function list at 0x0000014B664FF880>
        ğŸ“ Posizioni 2D dei tool: [{'odl_id': int, 'piano': int, 'x': float, 'y': float, 'width': float, 'height': float}, ...]
      â€¢ stato: String(50) | NOT NULL | DEFAULT=In sospeso
        ğŸ“ Stato corrente del nesting
      â€¢ superficie_piano_2_max: Float
        ğŸ“ Superficie massima configurabile del piano 2 in cmÂ²
      â€¢ updated_at: DateTime | DEFAULT=now()
      â€¢ valvole_totali: Integer | DEFAULT=0
      â€¢ valvole_utilizzate: Integer | DEFAULT=0
   ğŸ”— Relazioni:
      â€¢ autoclave: one-to-one -> Autoclave (bidirectional)
      â€¢ odl_list: one-to-many -> ODL (bidirectional)
      â€¢ report: one-to-one -> Report (bidirectional)

ğŸ“„ Modello: ODL
   Tabella: odl
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ parte_id: Integer | INDEX | NOT NULL | FK -> parti.id
        ğŸ“ ID della parte associata all'ordine di lavoro
      â€¢ tool_id: Integer | INDEX | NOT NULL | FK -> tools.id
        ğŸ“ ID del tool utilizzato per l'ordine di lavoro
      â€¢ created_at: DateTime | DEFAULT=now()
      â€¢ motivo_blocco: String
        ğŸ“ Motivo per cui l'ODL Ã¨ bloccato (es. tool occupati)
      â€¢ note: String
        ğŸ“ Note aggiuntive sull'ordine di lavoro
      â€¢ priorita: Integer | NOT NULL | DEFAULT=1
        ğŸ“ PrioritÃ  dell'ordine di lavoro (numero piÃ¹ alto = prioritÃ  maggiore)
      â€¢ status: String(12) | NOT NULL | DEFAULT=Preparazione
        ğŸ“ Stato corrente dell'ordine di lavoro
      â€¢ updated_at: DateTime | DEFAULT=now()
   ğŸ”— Relazioni:
      â€¢ logs: one-to-many -> ODLLog (bidirectional)
      â€¢ nesting_results: one-to-many -> NestingResult (bidirectional)
      â€¢ parte: one-to-one -> Parte (bidirectional)
      â€¢ schedule_entries: one-to-many -> ScheduleEntry (bidirectional)
      â€¢ state_logs: one-to-many -> StateLog (bidirectional)
      â€¢ tempo_fasi: one-to-many -> TempoFase (bidirectional)
      â€¢ tool: one-to-one -> Tool (bidirectional)

ğŸ“„ Modello: ODLLog
   Tabella: odl_logs
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ autoclave_id: Integer | INDEX | FK -> autoclavi.id
        ğŸ“ ID dell'autoclave utilizzata (se applicabile)
      â€¢ nesting_id: Integer | INDEX | FK -> nesting_results.id
        ğŸ“ ID del nesting associato (se applicabile)
      â€¢ odl_id: Integer | INDEX | NOT NULL | FK -> odl.id
        ğŸ“ ID dell'ODL associato al log
      â€¢ schedule_entry_id: Integer | INDEX | FK -> schedule_entries.id
        ğŸ“ ID della schedulazione associata (se applicabile)
      â€¢ descrizione: String
        ğŸ“ Descrizione dettagliata dell'evento
      â€¢ evento: String(100) | NOT NULL
        ğŸ“ Tipo di evento (creato, assegnato, caricato, curato, completato, etc.)
      â€¢ responsabile: String(100)
        ğŸ“ Utente o sistema responsabile dell'evento
      â€¢ stato_nuovo: String(50) | NOT NULL
        ğŸ“ Nuovo stato dell'ODL
      â€¢ stato_precedente: String(50)
        ğŸ“ Stato precedente dell'ODL
      â€¢ timestamp: DateTime | NOT NULL | DEFAULT=now()
        ğŸ“ Timestamp dell'evento
   ğŸ”— Relazioni:
      â€¢ autoclave: one-to-one -> Autoclave (bidirectional)
      â€¢ nesting: one-to-one -> NestingResult (bidirectional)
      â€¢ odl: one-to-one -> ODL (bidirectional)
      â€¢ schedule_entry: one-to-one -> ScheduleEntry (bidirectional)

ğŸ“„ Modello: Parte
   Tabella: parti
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ ciclo_cura_id: Integer | FK -> cicli_cura.id
        ğŸ“ ID del ciclo di cura associato
      â€¢ part_number: String(50) | INDEX | NOT NULL | FK -> cataloghi.part_number
        ğŸ“ Part Number associato dal catalogo
      â€¢ created_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B6649D800>
      â€¢ descrizione_breve: String(255) | NOT NULL
        ğŸ“ Descrizione breve della parte
      â€¢ note_produzione: String
        ğŸ“ Note specifiche per la produzione
      â€¢ num_valvole_richieste: Integer | NOT NULL | DEFAULT=1
        ğŸ“ Numero di valvole richieste per la cura
      â€¢ updated_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B6649D9E0>
   ğŸ”— Relazioni:
      â€¢ catalogo: one-to-one -> Catalogo (bidirectional)
      â€¢ ciclo_cura: one-to-one -> CicloCura (bidirectional)
      â€¢ odl: one-to-many -> ODL (bidirectional)
      â€¢ tools: one-to-many -> Tool (bidirectional)

ğŸ“„ Modello: Report
   Tabella: reports
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ created_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B66565EE0>
      â€¢ file_path: String(500) | NOT NULL
      â€¢ file_size_bytes: Integer
      â€¢ filename: String(255) | UNIQUE | INDEX | NOT NULL
      â€¢ generated_for_user_id: Integer | INDEX
      â€¢ include_sections: String(255)
      â€¢ period_end: DateTime
      â€¢ period_start: DateTime
      â€¢ report_type: String(10) | INDEX | NOT NULL
      â€¢ updated_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B665660C0>
   ğŸ”— Relazioni:
      â€¢ nesting_results: one-to-many -> NestingResult (bidirectional)

ğŸ“„ Modello: ScheduleEntry
   Tabella: schedule_entries
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ autoclave_id: Integer | INDEX | NOT NULL | FK -> autoclavi.id
        ğŸ“ ID dell'autoclave per cui Ã¨ schedulato l'ODL
      â€¢ odl_id: Integer | INDEX | FK -> odl.id
        ğŸ“ ID dell'ODL schedulato (opzionale per schedulazioni per categoria)
      â€¢ parent_schedule_id: Integer | FK -> schedule_entries.id
        ğŸ“ ID della schedulazione padre (per schedulazioni generate da ricorrenza)
      â€¢ categoria: String(100) | INDEX
        ğŸ“ Categoria per schedulazioni per categoria
      â€¢ created_at: DateTime | DEFAULT=now()
      â€¢ created_by: String(100)
        ğŸ“ Utente che ha creato la schedulazione
      â€¢ end_datetime: DateTime
        ğŸ“ Data e ora di fine della schedulazione (calcolata automaticamente se disponibili dati storici)
      â€¢ estimated_duration_minutes: Integer
        ğŸ“ Durata stimata in minuti (da dati storici)
      â€¢ is_recurring: Boolean | NOT NULL | DEFAULT=False
        ğŸ“ Indica se Ã¨ una schedulazione ricorrente
      â€¢ note: String
        ğŸ“ Note aggiuntive sulla schedulazione
      â€¢ pieces_per_month: Integer
        ğŸ“ Numero di pezzi da produrre al mese (per schedulazioni ricorrenti)
      â€¢ priority_override: Boolean | NOT NULL | DEFAULT=False
        ğŸ“ Indica se la prioritÃ  Ã¨ stata sovrascritta manualmente
      â€¢ recurring_frequency: String(50)
        ğŸ“ Frequenza ricorrenza (monthly, weekly, etc.)
      â€¢ schedule_type: String(50) | NOT NULL | DEFAULT=odl_specifico
        ğŸ“ Tipo di schedulazione
      â€¢ sotto_categoria: String(100) | INDEX
        ğŸ“ Sotto-categoria per schedulazioni per sotto-categoria
      â€¢ start_datetime: DateTime | NOT NULL
        ğŸ“ Data e ora di inizio della schedulazione
      â€¢ status: String(20) | NOT NULL | DEFAULT=scheduled
        ğŸ“ Stato corrente della schedulazione
      â€¢ updated_at: DateTime | DEFAULT=now()
   ğŸ”— Relazioni:
      â€¢ autoclave: one-to-one -> Autoclave (bidirectional)
      â€¢ odl: one-to-one -> ODL (bidirectional)

ğŸ“„ Modello: StateLog
   Tabella: state_logs
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ odl_id: Integer | INDEX | NOT NULL | FK -> odl.id
        ğŸ“ ID dell'ODL associato al cambio di stato
      â€¢ note: String(500)
        ğŸ“ Note aggiuntive sul cambio di stato
      â€¢ responsabile: String(100)
        ğŸ“ Utente o sistema responsabile del cambio
      â€¢ ruolo_responsabile: String(50)
        ğŸ“ Ruolo dell'utente responsabile (LAMINATORE, AUTOCLAVISTA, ADMIN)
      â€¢ stato_nuovo: String(50) | NOT NULL
        ğŸ“ Nuovo stato dell'ODL
      â€¢ stato_precedente: String(50)
        ğŸ“ Stato precedente dell'ODL
      â€¢ timestamp: DateTime | NOT NULL | DEFAULT=now()
        ğŸ“ Timestamp preciso del cambio di stato
   ğŸ”— Relazioni:
      â€¢ odl: one-to-one -> ODL (bidirectional)

ğŸ“„ Modello: SystemLog
   Tabella: system_logs
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ action: String(200) | NOT NULL
        ğŸ“ Descrizione breve dell'azione
      â€¢ details: String
        ğŸ“ Dettagli completi dell'evento in formato JSON o testo
      â€¢ entity_id: Integer | INDEX
        ğŸ“ ID dell'entitÃ  coinvolta
      â€¢ entity_type: String(50)
        ğŸ“ Tipo di entitÃ  coinvolta (odl, tool, autoclave, etc.)
      â€¢ event_type: String(16) | INDEX | NOT NULL
        ğŸ“ Tipo di evento
      â€¢ ip_address: String(45)
        ğŸ“ Indirizzo IP dell'utente
      â€¢ level: String(8) | NOT NULL | DEFAULT=LogLevel.INFO
        ğŸ“ Livello di importanza del log
      â€¢ new_value: String
        ğŸ“ Nuovo valore (per modifiche)
      â€¢ old_value: String
        ğŸ“ Valore precedente (per modifiche)
      â€¢ timestamp: DateTime | INDEX | NOT NULL | DEFAULT=now()
        ğŸ“ Timestamp dell'evento
      â€¢ user_id: String(100)
        ğŸ“ Identificativo dell'utente
      â€¢ user_role: String(12) | INDEX | NOT NULL
        ğŸ“ Ruolo dell'utente

ğŸ“„ Modello: TempoFase
   Tabella: tempo_fasi
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ odl_id: Integer | INDEX | NOT NULL | FK -> odl.id
        ğŸ“ ID dell'ordine di lavoro associato
      â€¢ created_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B664FDEE0>
      â€¢ durata_minuti: Integer
        ğŸ“ Durata della fase in minuti (calcolata da inizio e fine)
      â€¢ fase: String(11) | NOT NULL
        ğŸ“ Tipo di fase di produzione monitorata
      â€¢ fine_fase: DateTime
        ğŸ“ Timestamp di fine della fase (null se ancora in corso)
      â€¢ inizio_fase: DateTime | NOT NULL | DEFAULT=now()
        ğŸ“ Timestamp di inizio della fase
      â€¢ note: String
        ğŸ“ Note aggiuntive sulla fase
      â€¢ updated_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B664FE160>
   ğŸ”— Relazioni:
      â€¢ odl: one-to-one -> ODL (bidirectional)

ğŸ“„ Modello: TempoProduzione
   Tabella: tempi_produzione
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ categoria: String(100) | INDEX
        ğŸ“ Categoria del prodotto
      â€¢ created_at: DateTime | DEFAULT=now()
      â€¢ note: String
        ğŸ“ Note aggiuntive sui tempi di produzione
      â€¢ numero_osservazioni: Integer | NOT NULL | DEFAULT=1
        ğŸ“ Numero di osservazioni utilizzate per calcolare la media
      â€¢ part_number: String(100) | INDEX
        ğŸ“ Part number specifico (se disponibile)
      â€¢ sotto_categoria: String(100) | INDEX
        ğŸ“ Sotto-categoria del prodotto
      â€¢ tempo_massimo_minuti: Float
        ğŸ“ Tempo massimo registrato in minuti
      â€¢ tempo_medio_minuti: Float | NOT NULL
        ğŸ“ Tempo medio di produzione in minuti
      â€¢ tempo_minimo_minuti: Float
        ğŸ“ Tempo minimo registrato in minuti
      â€¢ ultima_osservazione: DateTime | NOT NULL
        ğŸ“ Data dell'ultima osservazione registrata
      â€¢ updated_at: DateTime | DEFAULT=now()

ğŸ“„ Modello: Tool
   Tabella: tools
   ğŸ“‹ Campi:
      â€¢ id: Integer | PK | INDEX | NOT NULL
      â€¢ created_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B6649C0E0>
      â€¢ descrizione: String
        ğŸ“ Descrizione dettagliata dello stampo
      â€¢ disponibile: Boolean | NOT NULL | DEFAULT=True
        ğŸ“ Indica se lo stampo Ã¨ attualmente disponibile
      â€¢ larghezza_piano: Float | NOT NULL
        ğŸ“ Larghezza utile del tool
      â€¢ lunghezza_piano: Float | NOT NULL
        ğŸ“ Lunghezza utile del tool
      â€¢ materiale: String(100)
        ğŸ“ Materiale del tool (es. Alluminio, Acciaio, etc.)
      â€¢ note: String
        ğŸ“ Note aggiuntive sullo stampo
      â€¢ part_number_tool: String(50) | UNIQUE | NOT NULL
        ğŸ“ Part Number Tool identificativo univoco dello stampo
      â€¢ peso: Float | DEFAULT=0.0
        ğŸ“ Peso del tool in kg
      â€¢ updated_at: DateTime | NOT NULL | DEFAULT=<function datetime.utcnow at 0x0000014B6649C2C0>
   ğŸ”— Relazioni:
      â€¢ odl: one-to-many -> ODL (bidirectional)
      â€¢ parti: one-to-many -> Parte (bidirectional)

============================================================
Riassunto completato!
Totale modelli analizzati: 14
